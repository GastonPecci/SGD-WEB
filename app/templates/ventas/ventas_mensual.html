
<div id="contenidoVentasMensual">
<div class="accordion" id="accordionVentasMensuales">
    {% if ventas_mensuales %}
        {% for mes, datos in ventas_mensuales.items() %}
        <div class="accordion-item bg-dark text-white">
            <h2 class="accordion-header" id="heading-mes-{{ loop.index }}">
                <button class="accordion-button collapsed bg-primary text-white" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapse-mes-{{ loop.index }}" aria-expanded="false"
                        aria-controls="collapse-mes-{{ loop.index }}">
                    {{ mes }} ‚Äî üí∞ Total: ${{ '%.2f'|format(datos.total) }}
                </button>
            </h2>
            <div id="collapse-mes-{{ loop.index }}" class="accordion-collapse collapse"
                 aria-labelledby="heading-mes-{{ loop.index }}" data-bs-parent="#accordionVentasMensuales">
                <div class="accordion-body">

                    <!-- Sub-acorde√≥n por d√≠a -->
                    <div class="accordion" id="accordionDias-{{ mes|replace(' ', '-') }}">
                        {% for dia, info in datos.dias.items() %}
                        <div class="accordion-item bg-secondary text-white">
                            <h2 class="accordion-header" id="heading-dia-{{ mes|replace(' ', '-') }}-{{ loop.index }}">
                                <button class="accordion-button collapsed bg-info text-dark" type="button"
                                        data-bs-toggle="collapse"
                                        data-bs-target="#collapse-dia-{{ mes|replace(' ', '-') }}-{{ loop.index }}"
                                        aria-expanded="false"
                                        aria-controls="collapse-dia-{{ mes|replace(' ', '-') }}-{{ loop.index }}">
                                    üìÖ {{ dia }} ‚Äî Total: ${{ '%.2f'|format(info.total) }}
                                </button>
                            </h2>
                            <div id="collapse-dia-{{ mes|replace(' ', '-') }}-{{ loop.index }}"
                                 class="accordion-collapse collapse"
                                 aria-labelledby="heading-dia-{{ mes|replace(' ', '-') }}-{{ loop.index }}"
                                 data-bs-parent="#accordionDias-{{ mes|replace(' ', '-') }}">
                                <div class="accordion-body">
                                    <ul class="list-group">
                                        {% for nombre, prod in info.productos %}
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>üì¶ {{ nombre }}</span>
                                            <span>
                                                Cant: <b>{{ prod.cantidad }}</b> ‚Äî
                                                ${{ '%.2f'|format(prod.monto) }}
                                            </span>
                                        </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="alert alert-warning">‚ö†Ô∏è No hay ventas registradas este mes.</div>
    {% endif %}
</div>
</div>
